<UserControl x:Class="KawaiiStudio.App.Views.QuantityView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="#F6F2EA">
  <Grid>
    <Image Source="{Binding BackgroundPath, Converter={StaticResource FilePathToImage}}"
           Stretch="UniformToFill"
           Opacity="0.9" />
    <Rectangle Fill="#CCF6F2EA" />
    <Grid Margin="24">
      <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
        <TextBlock Text="Select Quantity" FontSize="32" FontWeight="SemiBold" Margin="0,0,0,32" />
        <ItemsControl ItemsSource="{Binding AvailableQuantities}" HorizontalAlignment="Center">
          <ItemsControl.ItemsPanel>
            <ItemsPanelTemplate>
              <WrapPanel Orientation="Horizontal" HorizontalAlignment="Center" />
            </ItemsPanelTemplate>
          </ItemsControl.ItemsPanel>
          <ItemsControl.ItemTemplate>
            <DataTemplate>
              <Button Command="{Binding DataContext.SelectQuantityCommand, RelativeSource={RelativeSource AncestorType=UserControl}}"
                      CommandParameter="{Binding}"
                      Margin="16"
                      Padding="0"
                      Background="#EEE7DD"
                      BorderThickness="0"
                      Cursor="Hand"
                      Width="220"
                      Height="220">
                <Button.Effect>
                  <DropShadowEffect Color="#40000000" BlurRadius="8" ShadowDepth="4" />
                </Button.Effect>
                <Button.Style>
                  <Style TargetType="Button">
                    <Setter Property="Template">
                      <Setter.Value>
                        <ControlTemplate TargetType="Button">
                          <Border Background="{TemplateBinding Background}"
                                  CornerRadius="12"
                                  Padding="{TemplateBinding Padding}"
                                  Width="220"
                                  Height="220">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                          </Border>
                        </ControlTemplate>
                      </Setter.Value>
                    </Setter>
                    <Style.Triggers>
                      <Trigger Property="IsMouseOver" Value="True">
                        <Setter Property="Background" Value="#F5EEDD" />
                        <Setter Property="Effect">
                          <Setter.Value>
                            <DropShadowEffect Color="#50000000" BlurRadius="10" ShadowDepth="5" />
                          </Setter.Value>
                        </Setter>
                      </Trigger>
                      <Trigger Property="IsPressed" Value="True">
                        <Setter Property="Background" Value="#DDD5CC" />
                        <Setter Property="Effect">
                          <Setter.Value>
                            <DropShadowEffect Color="#30000000" BlurRadius="6" ShadowDepth="2" />
                          </Setter.Value>
                        </Setter>
                      </Trigger>
                    </Style.Triggers>
                  </Style>
                </Button.Style>
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                  <TextBlock Text="{Binding}" 
                           FontSize="80" 
                           FontWeight="Bold"
                           Foreground="#333333"
                           HorizontalAlignment="Center" />
                  <TextBlock Text="photos" 
                           FontSize="20" 
                           Foreground="#666666"
                           HorizontalAlignment="Center"
                           Margin="0,8,0,0" />
                </StackPanel>
              </Button>
            </DataTemplate>
          </ItemsControl.ItemTemplate>
        </ItemsControl>
        <Button Content="Back" 
                Command="{Binding BackCommand}" 
                Margin="0,32,0,0"
                Padding="24,12"
                Background="#E7DFD6"
                Foreground="#333333"
                BorderThickness="0"
                FontSize="18"
                FontWeight="SemiBold"
                Cursor="Hand">
          <Button.Effect>
            <DropShadowEffect Color="#20000000" BlurRadius="6" ShadowDepth="3" />
          </Button.Effect>
          <Button.Style>
            <Style TargetType="Button">
              <Setter Property="Template">
                <Setter.Value>
                  <ControlTemplate TargetType="Button">
                    <Border Background="{TemplateBinding Background}"
                            CornerRadius="8"
                            Padding="{TemplateBinding Padding}">
                      <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                    </Border>
                  </ControlTemplate>
                </Setter.Value>
              </Setter>
              <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                  <Setter Property="Background" Value="#DDD5CC" />
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                  <Setter Property="Background" Value="#CCC4BB" />
                </Trigger>
              </Style.Triggers>
            </Style>
          </Button.Style>
        </Button>
      </StackPanel>
    </Grid>
  </Grid>
</UserControl>


