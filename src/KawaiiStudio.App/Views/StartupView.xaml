<UserControl x:Class="KawaiiStudio.App.Views.StartupView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="#F6F2EA">
  <Grid>
    <Image Source="{Binding BackgroundPath, Converter={StaticResource FilePathToImage}}"
           Stretch="UniformToFill"
           Opacity="0.9" />
    <Rectangle Fill="#CCF6F2EA" />
    <Grid Margin="24">
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto" />
        <RowDefinition Height="*" />
        <RowDefinition Height="Auto" />
      </Grid.RowDefinitions>

      <StackPanel Grid.Row="0" Margin="0,0,0,16">
        <TextBlock Text="Startup Checks" FontSize="28" FontWeight="SemiBold" />
        <TextBlock Text="{Binding ModeText}" FontSize="12" Foreground="#B8B8B8" />
      </StackPanel>

      <Border Grid.Row="1" Background="#EEE7DD" CornerRadius="12" Padding="16">
        <StackPanel>
          <TextBlock Text="Connections" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,8" />
          <ItemsControl ItemsSource="{Binding Checks}">
            <ItemsControl.ItemTemplate>
              <DataTemplate>
                <Grid Margin="0,6,0,0">
                  <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="160" />
                    <ColumnDefinition Width="120" />
                    <ColumnDefinition Width="*" />
                  </Grid.ColumnDefinitions>
                  <TextBlock Text="{Binding Name}" FontSize="12" Foreground="#B8B8B8" VerticalAlignment="Center" />
                  <TextBlock Grid.Column="1" Text="{Binding Status}" FontSize="12" VerticalAlignment="Center" />
                  <TextBlock Grid.Column="2" Text="{Binding Detail}" FontSize="12" Foreground="#B8B8B8" VerticalAlignment="Center" />
                </Grid>
              </DataTemplate>
            </ItemsControl.ItemTemplate>
          </ItemsControl>
        </StackPanel>
      </Border>

      <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,16,0,0">
        <Button Content="Enable Test Mode" Command="{Binding EnableTestModeCommand}" Padding="16,8" />
        <Button Content="Retry" Command="{Binding RetryCommand}" Padding="16,8" Margin="8,0,0,0" />
        <Button Content="Errors found - Continue anyways"
                Command="{Binding ForceContinueCommand}"
                Padding="16,8"
                Margin="8,0,0,0"
                Visibility="{Binding CanForceContinue, Converter={StaticResource BoolToVisibility}}" />
        <Button Content="Continue" Command="{Binding ContinueCommand}" Padding="16,8" Margin="8,0,0,0" />
      </StackPanel>
    </Grid>
  </Grid>
</UserControl>


